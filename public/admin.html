<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin - La Otra Politica</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
    <div class="main-container admin-layout">
        <!-- Sidebar con imagen del candidato -->
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="candidate-image-container">
                    <img src="/assets/images/profeVotos.jpg" alt="Candidato al Senado" class="candidate-image">
                    <div class="glass-overlay"></div>
                </div>
                <div class="sidebar-text">
                    <h2>La Otra Politica</h2>
                    <p>Panel de Administracion</p>
                </div>
                
                <!-- Estadisticas rapidas -->
                <div class="sidebar-stats">
                    <div class="stat-card glass-card">
                        <span class="stat-number" id="totalInscritos">0</span>
                        <span class="stat-label">Total Inscritos</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Contenido principal -->
        <main class="main-content admin-content" style="display: block !important;">
            <div class="admin-container" style="display: block !important; visibility: visible !important;">
                <!-- Header del admin -->
                <div class="admin-header" style="display: flex !important; visibility: visible !important;">
                    <div class="admin-title">
                        <h1>Panel de Administracion</h1>
                        <p class="subtitle">Gestiona las inscripciones por departamento</p>
                    </div>
                    <div class="admin-actions">
                        <button class="btn-secondary" id="logoutBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16 17 21 12 16 7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                            Cerrar Sesion
                        </button>
                    </div>
                </div>

                <!-- Filtros y controles -->
                <div class="admin-controls glass-card" style="display: flex !important; visibility: visible !important; opacity: 1 !important;">
                    <div class="control-group">
                        <label for="departamentoFilter">Filtrar por Departamento</label>
                        <select id="departamentoFilter">
                            <option value="todos">Todos los departamentos</option>
                        </select>
                    </div>
                    <div class="control-actions">
                        <button class="btn-primary" id="downloadBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Descargar Excel
                        </button>
                        <button class="btn-secondary" id="refreshBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"/>
                                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                            </svg>
                            Actualizar
                        </button>
                    </div>
                </div>

                <!-- Resumen de departamentos -->
                <div class="departamentos-grid" id="departamentosGrid" style="display: grid !important; visibility: visible !important; opacity: 1 !important; min-height: 100px;">
                    <!-- Se llena dinamicamente -->
                    <p style="color: white; grid-column: 1/-1;">Cargando departamentos...</p>
                </div>

                <!-- Tabla de inscripciones -->
                <div class="table-container glass-card" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
                    <div class="table-header">
                        <h2>Inscripciones <span id="currentDepartamento">(Todos)</span></h2>
                        <span class="table-count" id="tableCount">0 registros</span>
                    </div>
                    <div class="table-wrapper">
                        <table id="inscripcionesTable">
                            <thead>
                                <tr>
                                    <th>No.</th>
                                    <th>Nombre</th>
                                    <th>Cedula</th>
                                    <th>Telefono</th>
                                    <th>Ciudad</th>
                                    <th>Departamento</th>
                                    <th>Profesion</th>
                                    <th>Emprendimiento</th>
                                    <th>Redes Sociales</th>
                                    <th>Retos</th>
                                    <th>Fecha</th>
                                </tr>
                            </thead>
                            <tbody id="inscripcionesBody">
                                <!-- Se llena dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                    <div class="table-empty hidden" id="tableEmpty">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="12" y1="18" x2="12" y2="12"/>
                            <line x1="9" y1="15" x2="15" y2="15"/>
                        </svg>
                        <p>No hay inscripciones en este departamento</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-left">
                <img src="/assets/images/profe-senador.png" alt="El Derecho Para Todos" class="footer-logo" />
                <p class="footer-description">Educamos a quienes quieren liderar con proposito e integridad</p>
                <ul class="social">
                    <li>
                        <a href="https://wa.me/573116005672?text=Profe%2C%20quiero%20ser%20parte%20de%20La%20Otra%20Pol%C3%ADtica" aria-label="WhatsApp" class="social-link" target="_blank" rel="noopener noreferrer">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path d="M20.52 3.48A11.94 11.94 0 0012.01 0C5.39 0 .01 5.37.01 12c0 2.11.55 4.15 1.59 5.95L0 24l6.2-1.63a11.93 11.93 0 005.81 1.54h.01c6.62 0 12-5.37 12-12 0-3.2-1.25-6.2-3.5-8.43zM12.02 21.3h-.01a9.32 9.32 0 01-4.75-1.3l-.34-.2-3.69.97.99-3.6-.22-.37A9.28 9.28 0 012.7 12c0-5.14 4.19-9.32 9.35-9.32 2.5 0 4.85.97 6.62 2.73a9.27 9.27 0 012.74 6.6c0 5.14-4.2 9.3-9.38 9.3zm5.37-6.95c-.29-.15-1.73-.85-2-.94-.27-.1-.46-.14-.65.14-.19.29-.74.94-.9 1.13-.17.2-.34.22-.63.08-.29-.14-1.23-.45-2.35-1.44-.87-.75-1.45-1.68-1.62-1.96-.17-.29-.02-.45.13-.6.13-.13.29-.34.43-.51.14-.17.19-.29.29-.48.1-.19.05-.36-.02-.51-.07-.15-.65-1.56-.89-2.13-.23-.56-.47-.49-.65-.5l-.56-.01c-.19 0-.5.07-.76.36-.26.29-1 1-1 2.46 0 1.45 1.03 2.85 1.17 3.05.14.2 2.02 3.2 4.89 4.49.68.29 1.22.46 1.63.59.68.22 1.3.19 1.79.11.55-.08 1.73-.71 1.98-1.4.24-.68.24-1.26.17-1.39-.07-.13-.26-.2-.55-.35z"/>
                            </svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/elprofecharles/" aria-label="Instagram" class="social-link">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3h10zm-5 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 2a3.5 3.5 0 110 7 3.5 3.5 0 010-7zM18 6.2a1 1 0 100 2 1 1 0 000-2z"/></svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://web.facebook.com/charlesfigueroalopera" aria-label="Facebook" class="social-link">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 12a10 10 0 10-11.56 9.9v-7h-2.3V12h2.3V9.8c0-2.27 1.35-3.53 3.42-3.53.99 0 2.02.18 2.02.18v2.23h-1.14c-1.12 0-1.47.7-1.47 1.41V12h2.5l-.4 2.9h-2.1v7A10 10 0 0022 12z"/></svg>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.youtube.com/@ElProfeCharles" aria-label="YouTube" class="social-link">
                            <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3 3 0 00-2.1-2.1C19.7 3.5 12 3.5 12 3.5s-7.7 0-9.4.6A3 3 0 00.5 6.2 31.7 31.7 0 000 12c0 1.9.2 3.8.5 5.8a3 3 0 002.1 2.1c1.7.6 9.4.6 9.4.6s7.7 0 9.4-.6a3 3 0 002.1-2.1c.3-2 .5-3.9.5-5.8 0-1.9-.2-3.8-.5-5.8zM9.8 15.5v-7l6.3 3.5-6.3 3.5z"/></svg>
                        </a>
                    </li>
                </ul>
                <hr class="footer-sep" />
            </div>
            <div class="footer-right">
                <div class="profile-card">
                    <img src="/assets/images/charles.png" alt="El Profe Charles" />
                </div>
            </div>
        </div>
    </footer>

    <script src="/js/admin.js"></script>
</body>
</html>
